SUBROUTINE U_CURL(URI, VERBOSE, R.UTIL.CMD.LOG, ID.UTIL.CMD.LOG)
$INCLUDE UTIL.BP UTIL.H

   STMT = "sh curl -sL ":DQUOTE(URI)

   IF VERBOSE THEN
      CALL U_CRT.ACTION("CURL", STMT)
   END

   EXECUTE STMT CAPTURING R.UTIL.CMD.LOG

   R.EVENT = ""
   R.EVENT<U_LOG_EVENT> = "CURL"
   R.EVENT<U_LOG_CMD>   = STMT
   R.EVENT<U_LOG_URI>   = URI
   R.EVENT<U_LOG_RETCD> = @SYSTEM.RETURN.CODE
   R.EVENT<U_LOG_SUBR>   = "U_CURL"

   CALL U_LOG.CMD(R.UTIL.CMD.LOG,R.EVENT)

   RETURN
END
