PROGRAM U_TEST
** INFORMATION ****************************************************************
* Routine Name   : U_TEST
*         Type   : PROGRAM
*         Loc    : UTIL.BP
* -----------------------------------------------------------------------------
* Info Updated   : 20191217 at 11.07.35 in MWT-QM-DEV by sales
*                : on ldn-srv-ubnt01 (Linux)
* -----------------------------------------------------------------------------
*
*******************************************************************************
   CALL U_START("M.TEST")
   CALL U_HEADER("M.TEST")

   CALL U_CRT.ACTION("COMMAND", @COMMAND)
   CALL U_CRT.ACTION("SENTENCE", @SENTENCE)
   CALL U_CRT.ACTION("LOGNAME", @LOGNAME)
   CALL U_CRT.ACTION("TTY", @TTY)
   CALL U_CRT.ACTION("USERNO", @USERNO)
   CALL U_CRT.ACTION("PATH", @PATH)
   CALL U_CRT.ACTION("WHO", @WHO)
   CALL U_CRT.ACTION("SYS(33)", SYSTEM(33))
   CALL U_CRT.ACTION("SYS(1015)", SYSTEM(1015))
   CALL U_CRT.ACTION("IP",@IP.ADDR)

   VERBOSE = @TRUE
   ID.RESULT = ""

   *SQL.STATEMENT =  'select CodeMajorCurrencyIsoCode,CodeMinorCurrencyIsoCode from "dbo"."CurrencyPair" where Active=1'
   *SQL.DATABASE  =  ""

SQL.FIELDS   = "*"
SQL.TABLE    = "dbo.Broker"
SQL.DATABASE = ""
SQL.WHERE    = "InternalDeleted IS NULL"
RES.COLUMNS  = ""
RES.DATA     = ""
RES.COUNT    = ""

   CALL U_MSSQL.SELECT(SQL.FIELDS, SQL.TABLE, SQL.DATABASE, SQL.WHERE, VERBOSE, ID.RESULT,RES.COLUMNS,RES.DATA,RES.COUNT)

   CALL U_CRT.ACTION("RESULT", ID.RESULT)
   CALL U_CRT.RECORD(RES.COLUMNS)
   CALL U_CRT.RECORD(RES.DATA)
   CALL U_CRT.ACTION("NO RECORDS",RES.COUNT)

   SQL.TABLE = SQL.TABLE
   SQL.FIELDS = RES.COLUMNS
   SQL.VALUES = RES.DATA
   SQL.DATABASE = ""

   SUBROUTINE U_MSSQL.INSERT(SQL.TABLE, SQL.FIELDS, SQL.VALUES, SQL.DATABASE, VERBOSE)



   CALL U_STOP("")
   STOP
END
