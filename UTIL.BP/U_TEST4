PROGRAM U_TEST
** INFORMATION ****************************************************************
*   Routine Name : U_TEST4
*           Type : PROGRAM
*         Params :
*            Loc : UTIL.BP
** AUDIT **********************************************************************
*   Info Updated : 20210228 at 13.00.01 in DEV by root
*                : on mercury.local (Mac)
*******************************************************************************

$INSERT UTIL.BP I_UTIL.H
$INSERT UTIL.BP I_HTTP.H
$INSERT UTIL.BP F_UTIL.TRANSLATE.H

   CALL U_INITIALISE("U_TEST")
   CALL U_START("U_TEST")
   CALL U_HEADER("U_TEST")

   P.ARR="" ; P.TXT=""
   P.ARR<-1>=100 ; P.TXT<-1>="Continue"
   P.ARR<-1>=101 ; P.TXT<-1>="Switching Protocols"
   P.ARR<-1>=102 ; P.TXT<-1>="Processing"
   P.ARR<-1>=103 ; P.TXT<-1>="Early Hints"
   P.ARR<-1>=200 ; P.TXT<-1>="OK"
   P.ARR<-1>=201 ; P.TXT<-1>="Created"
   P.ARR<-1>=202 ; P.TXT<-1>="Accepted"
   P.ARR<-1>=203 ; P.TXT<-1>="Non-Authoritative Information"
   P.ARR<-1>=204 ; P.TXT<-1>="No Content"
   P.ARR<-1>=205 ; P.TXT<-1>="Reset Content"
   P.ARR<-1>=206 ; P.TXT<-1>="Partial Content"
   P.ARR<-1>=207 ; P.TXT<-1>="Multi-Status"
   P.ARR<-1>=208 ; P.TXT<-1>="Already Reported"
   P.ARR<-1>=226 ; P.TXT<-1>="IM Used"
   P.ARR<-1>=300 ; P.TXT<-1>="Multiple Choices"
   P.ARR<-1>=301 ; P.TXT<-1>="Moved Permanently"
   P.ARR<-1>=302 ; P.TXT<-1>="Found"
   P.ARR<-1>=303 ; P.TXT<-1>="See Other"
   P.ARR<-1>=304 ; P.TXT<-1>="Not Modified"
   P.ARR<-1>=305 ; P.TXT<-1>="Use Proxy"
   P.ARR<-1>=307 ; P.TXT<-1>="Temporary Redirect"
   P.ARR<-1>=308 ; P.TXT<-1>="Permanent Redirect"
   P.ARR<-1>=400 ; P.TXT<-1>="Bad Request {{1}} {{2}} {{3}}"
   P.ARR<-1>=401 ; P.TXT<-1>="Unauthorized"
   P.ARR<-1>=402 ; P.TXT<-1>="Payment Required"
   P.ARR<-1>=403 ; P.TXT<-1>="Forbidden"
   P.ARR<-1>=404 ; P.TXT<-1>="Not Found"
   P.ARR<-1>=405 ; P.TXT<-1>="Method Not Allowed"
   P.ARR<-1>=406 ; P.TXT<-1>="Not Acceptable"
   P.ARR<-1>=407 ; P.TXT<-1>="Proxy Authentication Required"
   P.ARR<-1>=408 ; P.TXT<-1>="Request Timeout"
   P.ARR<-1>=409 ; P.TXT<-1>="Conflict"
   P.ARR<-1>=410 ; P.TXT<-1>="Gone"
   P.ARR<-1>=411 ; P.TXT<-1>="Length Required"
   P.ARR<-1>=412 ; P.TXT<-1>="Precondition Failed"
   P.ARR<-1>=413 ; P.TXT<-1>="Payload Too Large"
   P.ARR<-1>=414 ; P.TXT<-1>="URI Too Long"
   P.ARR<-1>=415 ; P.TXT<-1>="Unsupported Media Type"
   P.ARR<-1>=416 ; P.TXT<-1>="Range Not Satisfiable"
   P.ARR<-1>=417 ; P.TXT<-1>="Expectation Failed"
   P.ARR<-1>=421 ; P.TXT<-1>="Misdirected Request"
   P.ARR<-1>=422 ; P.TXT<-1>="Unprocessable Entity"
   P.ARR<-1>=423 ; P.TXT<-1>="Locked"
   P.ARR<-1>=424 ; P.TXT<-1>="Failed Dependency"
   P.ARR<-1>=425 ; P.TXT<-1>="Too Early"
   P.ARR<-1>=426 ; P.TXT<-1>="Upgrade Required"
   P.ARR<-1>=428 ; P.TXT<-1>="Precondition Required"
   P.ARR<-1>=429 ; P.TXT<-1>="Too Many Requests"
   P.ARR<-1>=431 ; P.TXT<-1>="Request Header Fields Too Large"
   P.ARR<-1>=451 ; P.TXT<-1>="Unavailable For Legal Reasons"
   P.ARR<-1>=500 ; P.TXT<-1>="Internal Server Error"
   P.ARR<-1>=501 ; P.TXT<-1>="Not Implemented"
   P.ARR<-1>=502 ; P.TXT<-1>="Bad Gateway"
   P.ARR<-1>=503 ; P.TXT<-1>="Service Unavailable"
   P.ARR<-1>=504 ; P.TXT<-1>="Gateway Timeout"
   P.ARR<-1>=505 ; P.TXT<-1>="HTTP Version Not Supported"
   P.ARR<-1>=506 ; P.TXT<-1>="Variant Also Negotiates"
   P.ARR<-1>=507 ; P.TXT<-1>="Insufficient Storage"
   P.ARR<-1>=508 ; P.TXT<-1>="Loop Detected"
   P.ARR<-1>=510 ; P.TXT<-1>="Not Extended"
   P.ARR<-1>=511 ; P.TXT<-1>="Network Authentication Required"
   P.ARR<-1>=512 ; P.TXT<-1>="SECURITY VIOLATION"
   P.ARR<-1>=513 ; P.TXT<-1>="No Data Found {{1}} {{2}} {{3}}"



* open


   FV.UTIL.TRANSLATE = ""

   CALL U_IO.OPENFILE(U_TRNS.FILE.NAME, FV.UTIL.TRANSLATE, @TRUE, "")

   NO.ITEMS = DCOUNT(P.ARR, @AM)
   FOR I = 1 TO NO.ITEMS
      ID.UTIL.TRANSLATE = RC$LOOKUP:"!":P.ARR<I>
      R.UTIL.TRANSLATE = "" ; R.UTIL.TRANSLATE<1> = P.TXT<I>
      CALL U_CRT.INFO("DATA", ID.UTIL.TRANSLATE : " " : DQUOTE(R.UTIL.TRANSLATE<1>))
      CALL U_IO.WRITE(FV.UTIL.TRANSLATE, ID.UTIL.TRANSLATE, R.UTIL.TRANSLATE, @TRUE, "")
      MY.MESSAGE = P.ARR<I>
      CALL U_MSG.HTTP(MY.MESSAGE, "")
      CALL U_CRT.INFO(P.ARR<I>, MY.MESSAGE)
   NEXT I

   MY.MESSAGE = RC$BAD.REQUEST
   CALL U_MSG.HTTP(MY.MESSAGE, "")
   CALL U_CRT.INFO(RC$CREATED, MY.MESSAGE)
   CALL U_STOP("")
   STOP
END
