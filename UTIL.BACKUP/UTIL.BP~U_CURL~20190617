SUBROUTINE U_OS.CURL(URI, VERBOSE, R.UTIL.LOG.CMD, ID.UTIL.LOG.CMD)

   FN.UTIL.LOG.CMD = "UTIL.LOG.CMD" ; FV.UTIL.LOG.CMD = "" ; STOP.ON.ERROR = @TRUE ; ERROR.TEXT = ""

   CALL U_OPENFILE(FN.UTIL.LOG.CMD, FV.UTIL.LOG.CMD, STOP.ON.ERROR, ERROR.TEXT)

   ID.UTIL.LOG.CMD = ""
   R.UTIL.LOG.CMD = ""
   CALL U_UNIQUE.ID(ID.UTIL.LOG.CMD)

   STMT = "sh curl -sL ":DQUOTE(URI)

   IF VERBOSE THEN
      CALL U_CRT.INFO("EXECUTE", STMT)
   END

   * HUSH ON
   EXECUTE STMT CAPTURING R.UTIL.LOG.CMD
   * HUSH OFF

   CALL U_WRITE(FV.UTIL.LOG.CMD, "RESULT_":ID.UTIL.LOG.CMD, R.UTIL.LOG.CMD, STOP.ON.ERROR, ERROR.TEXT)
   REQUEST.REC = URI:@AM:STMT
   CALL U_WRITE(FV.UTIL.LOG.CMD, "SHCURL_":ID.UTIL.LOG.CMD, REQUEST.REC, STOP.ON.ERROR, ERROR.TEXT)

   RETURN
END
