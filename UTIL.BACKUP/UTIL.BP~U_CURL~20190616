SUBROUTINE U_OS.CURL(URI, VERBOSE, R.UTIL.CMD.LOG, ID.UTIL.CMD.LOG)

   FN.UTIL.CMD.LOG = "UTIL.CMD.LOG" ; FV.UTIL.CMD.LOG = "" ; STOP.ON.ERROR = @TRUE ; ERROR.TEXT = ""

   CALL U_OPENFILE(FN.UTIL.CMD.LOG, FV.UTIL.CMD.LOG, STOP.ON.ERROR, ERROR.TEXT)

   ID.UTIL.CMD.LOG = ""
   R.UTIL.CMD.LOG = ""
   CALL U_UNIQUE.ID(ID.UTIL.CMD.LOG)

   STMT = "sh curl -sL ":DQUOTE(URI)

   IF VERBOSE THEN
      CALL U_CRT.INFO("EXECUTE", STMT)
   END

   * HUSH ON
   EXECUTE STMT CAPTURING R.UTIL.CMD.LOG
   * HUSH OFF

   CALL U_WRITE(FV.UTIL.CMD.LOG, "RESULT_":ID.UTIL.CMD.LOG, R.UTIL.CMD.LOG, STOP.ON.ERROR, ERROR.TEXT)
   REQUEST.REC = URI:@AM:STMT
   CALL U_WRITE(FV.UTIL.CMD.LOG, "SHCURL_":ID.UTIL.CMD.LOG, REQUEST.REC, STOP.ON.ERROR, ERROR.TEXT)

   RETURN
END
